<div ng-controller="AccountListCtrl"> 

    <div ng-show="error !== undefined" class="alert alert-danger" role="alert">
        <a href="#" class="alert-link">Error encountered on page!></a>
    </div>

    <div class="panel panel-primary">

        <div class="panel-heading" id="accountList-panel-heading">

            <div>
                <h4 id="panelHeader">Accounts</h4>
                <button ng-show="error === undefined" ng-click="showModal('md')" id="addButton" type="button" class="btn btn-default btn-default btn-round pull-right">
                    <span class="glyphicon glyphicon-plus"/>
                </button>
            </div>

            <div style="padding-top: 10px">
                <input name="name" 
                       required 
                       class="form-control" 
                       type="text" 
                       ng-model="searchQuery.globalSearchWord" 
                       placeholder="Search ( {{searchQuery.searchFields| ArrayFilter}} )" 
                       autofocus
                       popover-trigger="'focus'"
                       title="Search the table"
                       ng-show="searchQuery.searchFields.length > 0"
                       on-enter-click="search()"/> 
            </div>

        </div>
        <div class="panel-body">
            <table class="table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Updated</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="account in accounts">
                        <td>{{account.name}}</td>
                        <td>{{account.updatedDate| date:'yyyy-MM-dd HH:mm' }}</td>
                        <td>
                            <button ng-click="showModal('md', account)" id="addButton" type="button" class="btn btn-sm btn-default btn-round">
                                <span class="glyphicon glyphicon-edit"></span>
                            </button>
                            <button confirm='Are you sure?' ng-click="deleteAccount(account)" id="addButton" type="button" class="btn btn-sm btn-default btn-round">
                                <span class="glyphicon glyphicon-erase"></span>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="panel-footer" style="text-align: center">
            <button ng-click="getMore()" id="addButton" type="button" class="btn btn-default btn-round">
                <span class="glyphicon glyphicon-menu-down" style="vertical-align:middle"></span>
            </button>
        </div>

    </div>
</div>


